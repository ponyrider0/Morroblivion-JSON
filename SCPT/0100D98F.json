{
    "Record Header": {
        "Signature": "SCPT", 
        "Data Size": 4120, 
        "Record Flags": {}, 
        "FormID": "0100D98F", 
        "Version Control Info": "00 00 00 00"
    }, 
    "EDID - Editor ID": "mwOBMEDetectEnchantmentEffectScript", 
    "SCHR - Basic Script Data": {
        "Unused": "00 00 00 00", 
        "RefCount": 5, 
        "CompiledSize": 1003, 
        "VariableCount": 20, 
        "Type": "Magic Effect:256"
    }, 
    "SCDA - Compiled Script": "1D 00 00 00 10 00 06 00 11 00 8A 00 00 00 15 00 07 00 66 09 00 02 00 20 33 15 00 07 00 73 0B 00 02 00 20 35 15 00 07 00 73 10 00 02 00 20 31 15 00 0B 00 73 02 00 06 00 20 58 F7 15 00 00 15 00 0B 00 66 05 00 06 00 20 58 CE 10 00 00 15 00 10 00 73 0E 00 0B 00 20 58 AE 15 05 00 01 00 73 02 00 15 00 10 00 73 03 00 0B 00 20 58 AD 15 05 00 01 00 73 02 00 15 00 10 00 66 0D 00 0B 00 20 73 03 00 20 32 31 2E 33 20 2A 15 00 07 00 66 06 00 02 00 20 35 11 00 00 00 10 00 06 00 13 00 49 03 00 00 15 00 11 00 66 06 00 0C 00 20 66 06 00 20 58 0C 10 00 00 20 2B 16 00 0F 00 39 00 0B 00 20 66 06 00 20 66 09 00 20 3E 3D 15 00 07 00 66 06 00 02 00 20 30 15 00 0F 00 73 0E 00 0A 00 20 73 0E 00 20 66 09 00 20 2D 16 00 0C 00 35 00 08 00 20 73 0E 00 20 30 20 3E 16 00 0E 00 01 00 0A 00 20 73 0E 00 20 73 0B 00 20 3E 15 00 09 00 73 0F 00 04 00 20 73 0B 00 17 00 02 00 01 00 15 00 09 00 73 0F 00 04 00 20 73 0E 00 19 00 00 00 15 00 09 00 66 11 00 04 00 20 5A 04 00 15 00 15 00 66 11 00 10 00 20 58 08 16 0A 00 02 00 6E 46 00 00 00 73 10 00 6B 17 0D 00 C4 01 00 00 01 08 00 56 04 00 00 11 00 16 00 27 00 01 00 23 00 20 72 01 00 58 01 10 05 00 01 00 72 02 00 20 66 0D 00 20 3C 3D 20 58 89 14 05 00 01 00 72 01 00 20 26 26 1C 00 01 00 23 11 08 00 02 00 72 05 00 73 0F 00 19 00 00 00 15 00 09 00 66 11 00 04 00 20 5A 04 00 15 00 0B 00 66 11 00 06 00 20 58 09 16 00 00 6C 17 00 00 15 00 09 00 66 11 00 04 00 20 5A 04 00 15 00 15 00 66 11 00 10 00 20 58 08 16 0A 00 02 00 6E 17 00 00 00 73 10 00 6B 17 0D 00 DD 02 00 00 01 08 00 56 04 00 00 11 00 16 00 19 00 0C 00 15 00 20 72 01 00 58 01 10 05 00 01 00 72 02 00 20 66 0D 00 20 3C 3D 15 00 07 00 73 13 00 02 00 20 30 15 00 13 00 66 14 00 0E 00 20 72 01 00 58 27 14 05 00 01 00 73 13 00 6B 17 0D 00 B9 02 00 00 01 08 00 56 04 00 00 14 00 16 00 0F 00 02 00 0B 00 20 58 89 14 05 00 01 00 72 03 00 1C 00 01 00 23 11 08 00 02 00 72 05 00 73 0F 00 15 00 07 00 66 11 00 02 00 20 30 19 00 00 00 16 00 08 00 02 00 04 00 20 66 14 00 15 00 0D 00 73 13 00 08 00 20 73 13 00 20 31 20 2B 15 00 13 00 66 14 00 0E 00 20 72 01 00 58 27 14 05 00 01 00 73 13 00 19 00 00 00 6C 17 00 00 19 00 00 00 15 00 09 00 66 11 00 04 00 20 5A 04 00 15 00 0B 00 66 11 00 06 00 20 58 09 16 00 00 6C 17 00 00 15 00 09 00 66 11 00 04 00 20 5A 04 00 15 00 15 00 66 11 00 10 00 20 58 08 16 0A 00 02 00 6E 45 00 00 00 73 10 00 6B 17 0D 00 DF 03 00 00 01 08 00 56 04 00 00 11 00 16 00 19 00 0B 00 15 00 20 72 01 00 58 01 10 05 00 01 00 72 02 00 20 66 0D 00 20 3C 3D 15 00 07 00 73 13 00 02 00 20 30 6B 17 0D 00 BB 03 00 00 01 08 00 56 04 00 00 14 00 16 00 0F 00 02 00 0B 00 20 58 89 14 05 00 01 00 72 03 00 1C 00 01 00 23 11 08 00 02 00 72 05 00 73 0F 00 15 00 07 00 66 11 00 02 00 20 30 19 00 00 00 16 00 08 00 02 00 04 00 20 66 14 00 15 00 0D 00 73 13 00 08 00 20 73 13 00 20 31 20 2B 15 00 13 00 66 14 00 0E 00 20 72 01 00 58 27 14 05 00 01 00 73 13 00 19 00 00 00 6C 17 00 00 19 00 00 00 15 00 09 00 66 11 00 04 00 20 5A 04 00 15 00 0B 00 66 11 00 06 00 20 58 09 16 00 00 6C 17 00 00 19 00 00 00 19 00 00 00 11 00 00 00", 
    "SCTX - Script Source": "scn mwOBMEDetectEnchantmentEffectScript\n\nref rCaster\nfloat ftimer\nlong index\nlong mag\n\n\nfloat fDetectInterval\nshort iShaderDurationMax\n\nfloat fDistance\nlong  iDuration\nlong iSDuration\nshort iCellDepth\nref   rItem\nlong  iItem\n\nref rBoxItem\n\nBegin ScriptEffectStart\n\n	set fDetectInterval to 3\n	set iShaderDurationMax to 5\n	set iCellDepth    to 1\n\n	set index to GetScriptActiveEffectIndex\n	set rCaster to GetSelf\n	set iDuration to GetNthActiveEffectDuration index\n	set mag to GetNthActiveEffectMagnitude index\n	set fDistance to mag * 21.3\n	set ftimer to 5\n\nEnd\n\nBegin ScriptEffectUpdate\n	set ftimer to ftimer + GetSecondsPassed\n	If ftimer >= fDetectInterval\n		set ftimer to 0\n		set iDuration to iDuration - fDetectInterval\n		if(iDuration > 0)\n			if(iDuration > iShaderDurationMax)\n				set iSDuration to iShaderDurationMax\n			else\n				set iSDuration to iDuration\n			endif\n\n			set rItem to Apple\n			set rItem to GetFirstRef 70 iCellDepth			;Detect Enchanted Items\n			while (rItem)\n				if(rItem.GetDistance rCaster <= fDistance && GetEnchantment rItem)\n					rItem.PlayMagicShaderVisuals mwEffectDetectEnchantment iSDuration\n				endif\n				set rItem to Apple\n				set rItem to GetNextRef\n			loop\n\n			set rItem to Apple\n			set rItem to GetFirstRef 23 iCellDepth			;Detect magic Items in Box\n			while (rItem)\n				if(rItem.GetDistance rCaster <= fDistance)\n					set iItem to 0\n					set rBoxItem to rItem.GetInventoryObject iItem\n					while (rBoxItem)\n						if GetEnchantment rBoxItem\n							rItem.PlayMagicShaderVisuals mwEffectDetectEnchantment iSDuration\n							set rItem to 0\n						endif\n						if(rBoxItem)\n							set iItem to iItem + 1\n							set rBoxItem to rItem.GetInventoryObject iItem\n						endif\n					loop\n				endif\n				set rItem to Apple\n				set rItem to GetNextRef\n			loop\n\n\n			set rItem to Apple\n			set rItem to GetFirstRef 69 iCellDepth			;Detect magic Items held by actors\n			while (rItem)\n				if(rItem.GetDistance rCaster <= fDistance)\n					set iItem to 0\n					while (rBoxItem)\n						if GetEnchantment rBoxItem\n							rItem.PlayMagicShaderVisuals mwEffectDetectEnchantment iSDuration\n							set rItem to 0\n						endif\n						if(rBoxItem)\n							set iItem to iItem + 1\n							set rBoxItem to rItem.GetInventoryObject iItem\n						endif\n					loop\n				endif\n				set rItem to Apple\n				set rItem to GetNextRef\n			loop\n\n\n		endif\n	endif\nEnd\n;<CSEBlock>\n;<CSECaretPos> 409 </CSECaretPos>\n;</CSEBlock>", 
    "Local Variables": [
        {
            "SLSD - Local Variable Data": {
                "Index": "00000002", 
                "Unused": "00 00 00 00 00 00 00 00 00 00 00 00", 
                "Flags": {
                    "IsLongOrShort": true
                }, 
                "Unused": "00 00 00 00 00 00 00"
            }, 
            "SCVR - Name": "index"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": "00000003", 
                "Unused": "00 00 00 00 00 00 00 00 00 00 00 00", 
                "Flags": {
                    "IsLongOrShort": true
                }, 
                "Unused": "00 00 00 00 00 00 00"
            }, 
            "SCVR - Name": "mag"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": "00000005", 
                "Unused": "00 00 00 00 00 00 00 00 00 00 00 00", 
                "Flags": {}, 
                "Unused": "00 00 00 00 00 00 00"
            }, 
            "SCVR - Name": "rCaster"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": "00000006", 
                "Unused": "00 00 00 00 00 00 00 00 00 00 00 00", 
                "Flags": {}, 
                "Unused": "00 00 00 00 00 00 00"
            }, 
            "SCVR - Name": "ftimer"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": "00000009", 
                "Unused": "00 00 00 00 00 00 00 00 00 00 00 00", 
                "Flags": {}, 
                "Unused": "00 00 00 00 00 00 00"
            }, 
            "SCVR - Name": "fDetectInterval"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": "0000000B", 
                "Unused": "00 00 00 00 00 00 00 00 00 00 00 00", 
                "Flags": {
                    "IsLongOrShort": true
                }, 
                "Unused": "00 00 00 00 00 00 00"
            }, 
            "SCVR - Name": "iShaderDurationMax"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": "0000000D", 
                "Unused": "00 00 00 00 00 00 00 00 00 00 00 00", 
                "Flags": {}, 
                "Unused": "00 00 00 00 00 00 00"
            }, 
            "SCVR - Name": "fDistance"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": "0000000E", 
                "Unused": "00 00 00 00 00 00 00 00 00 00 00 00", 
                "Flags": {
                    "IsLongOrShort": true
                }, 
                "Unused": "00 00 00 00 00 00 00"
            }, 
            "SCVR - Name": "iDuration"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": "0000000F", 
                "Unused": "00 00 00 00 00 00 00 00 00 00 00 00", 
                "Flags": {
                    "IsLongOrShort": true
                }, 
                "Unused": "00 00 00 00 00 00 00"
            }, 
            "SCVR - Name": "iSDuration"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": "00000010", 
                "Unused": "00 00 00 00 00 00 00 00 00 00 00 00", 
                "Flags": {
                    "IsLongOrShort": true
                }, 
                "Unused": "00 00 00 00 00 00 00"
            }, 
            "SCVR - Name": "iCellDepth"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": "00000011", 
                "Unused": "00 00 00 00 00 00 00 00 00 00 00 00", 
                "Flags": {}, 
                "Unused": "00 00 00 00 00 00 00"
            }, 
            "SCVR - Name": "rItem"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": "00000013", 
                "Unused": "00 00 00 00 00 00 00 00 00 00 00 00", 
                "Flags": {
                    "IsLongOrShort": true
                }, 
                "Unused": "00 00 00 00 00 00 00"
            }, 
            "SCVR - Name": "iItem"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": "00000014", 
                "Unused": "66 65 63 74 00 00 00 00 00 00 00 00", 
                "Flags": {}, 
                "Unused": "68 61 6E 74 6D 65 6E"
            }, 
            "SCVR - Name": "rBoxItem"
        }
    ], 
    "References": [
        "SCRV - Local Variable": "00000011", 
        "SCRV - Local Variable": "00000005", 
        "SCRV - Local Variable": "00000014", 
        "SCRO - Global Reference": "Apple [INGR:0003365D]", 
        "SCRO - Global Reference": "mwEffectDetectEnchantment [EFSH:0100D990]"
    ]
}
